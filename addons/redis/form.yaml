name: Redis
tabs:
- name: main
  label: Info
  sections:
  - name: section_one
    contents: 
    - type: heading
      label: "Important Note: Internal Traffic Only"
    - type: subtitle
      label: "This instance of Redis is only exposed to internal traffic and can only be reached from other services running on Porter. A connection string for this database will be shown after the template is deployed."
  - name: enable_password
    contents:
    - type: heading
      label: Credentials
    - type: checkbox
      label: Use Password
      variable: auth.enabled
  - name: password
    show_if: auth.enabled
    contents:
    - type: string-input
      label: Password
      variable: auth.enabled.password
- name: resources
  label: Resources
  sections:
  - name: main_section
    contents:
    - type: heading
      label: Resources - Master
    - type: subtitle
      label: Configure resources assigned to this Redis master instance.
    - type: number-input
      label: RAM
      variable: master.resources.requests.memory
      settings:
        unit: Mi
        default: 256
    - type: number-input
      label: CPU
      variable: master.resources.requests.cpu
      settings:
        unit: m
        default: 100
    sections:
    - name: persistence
      contents:
      - type: subtitle
        label: Please enable persistence only if you have a stateful nodegroup in your cluster, running in a single AZ. Running a stateful Redis installation on non-stateful nodegroups can lead to issues with storage on AWS.
      - type: checkbox
        label: Enable persistence
        variable: master.persistence.enabled